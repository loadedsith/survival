THREE.PointerLockControls=function(e){var t=this;e.rotation.set(0,0,0);var n=new THREE.Object3D;n.add(e);var r=new THREE.Object3D;r.position.y=10;r.add(n);var i=!1,s=!1,o=!1,u=!1,a=!1,f=!1,l=new THREE.Vector3,c=Math.PI/2,h=function(e){console.log("Smarty California Sea Lion");var t=e.movementX||e.mozMovementX||e.webkitMovementX||0,i=e.movementY||e.mozMovementY||e.webkitMovementY||0;r.rotation.y-=t*.002;n.rotation.x-=i*.002;n.rotation.x=Math.max(-c,Math.min(c,n.rotation.x))},p=function(e){switch(e.keyCode){case 38:case 87:i=!0;break;case 37:case 65:o=!0;break;case 40:case 83:s=!0;break;case 39:case 68:u=!0;break;case 32:f===!0&&(l.y+=10);f=!1}},d=function(e){switch(e.keyCode){case 38:case 87:i=!1;break;case 37:case 65:o=!1;break;case 40:case 83:s=!1;break;case 39:case 68:u=!1}};document.addEventListener("mousemove",h,!1);document.addEventListener("keydown",p,!1);document.addEventListener("keyup",d,!1);this.enabled=!1;this.getObject=function(){return r};this.isOnObject=function(e){a=e;f=e};this.getDirection=function(){var e=new THREE.Vector3(0,0,-1),t=new THREE.Euler(0,0,0,"YXZ");return function(i){t.set(n.rotation.x,r.rotation.y,0);i.copy(e).applyEuler(t);return i}}();this.update=function(e){e*=.1;l.x+=-l.x*.08*e;l.z+=-l.z*.08*e;l.y-=.25*e;i&&(l.z-=.12*e);s&&(l.z+=.12*e);o&&(l.x-=.12*e);u&&(l.x+=.12*e);a===!0&&(l.y=Math.max(0,l.y));r.translateX(l.x);r.translateY(l.y);r.translateZ(l.z);if(r.position.y<10){l.y=0;r.position.y=10;f=!0}}};